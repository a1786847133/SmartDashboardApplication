<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Seattle Collisions Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Mapbox GL JS -->
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" />
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>

  <!-- D3 + C3 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.min.js"></script>

  <link rel="stylesheet" href="css/style.css" />
</head>

<body>
  <div id="map"></div>

  <aside id="panel">
    <h1>Seattle Traffic Collisions</h1>
    <p class="subtitle">
      Proportional symbols show collision severity (injuries + fatalities). Use filters to explore patterns.
    </p>

    <div class="kpis">
      <div class="kpi"><div class="kpi-label">Collisions</div><div id="kpiCollisions" class="kpi-value">–</div></div>
      <div class="kpi"><div class="kpi-label">Injuries</div><div id="kpiInjuries" class="kpi-value">–</div></div>
      <div class="kpi"><div class="kpi-label">Fatalities</div><div id="kpiFatalities" class="kpi-value">–</div></div>
    </div>

    <div class="controls">
      <label>
        Date range
        <div class="row">
          <input id="startDate" type="date" />
          <input id="endDate" type="date" />
        </div>
      </label>

      <label>
        Severity
        <select id="severity">
          <option value="ALL">All</option>
          <option value="3">Fatality (3)</option>
          <option value="2b">Serious Injury (2b)</option>
          <option value="2">Injury (2)</option>
          <option value="1">Property Damage (1)</option>
        </select>
      </label>

      <button id="resetBtn">Reset</button>
    </div>

    <h2>Collisions over time</h2>
    <div id="chart"></div>

    <div id="legend">
      <h3>Legend</h3>
      <div class="legend-row"><span class="dot s"></span> small = low severity</div>
      <div class="legend-row"><span class="dot m"></span> medium</div>
      <div class="legend-row"><span class="dot l"></span> large = high severity</div>
    </div>

    <p class="note">
  Data: City of Seattle SDOT “Collisions—All Years” (exported subset for 2024–2025).
      </p>
  </aside>

  <script src="js/main.js"></script>
</body>
</html>
