html, body { height: 100%; margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
#map { position: absolute; top: 0; left: 0; right: 360px; bottom: 0; }

#panel {
  position: absolute; top: 0; right: 0; bottom: 0; width: 360px;
  padding: 14px; overflow: auto;
  background: rgba(255,255,255,0.96);
  border-left: 1px solid #ddd;
}

h1 { margin: 0 0 6px 0; font-size: 20px; }
h2 { margin: 14px 0 8px 0; font-size: 14px; }
.subtitle { margin: 0 0 12px 0; color: #444; line-height: 1.3; font-size: 13px; }

.kpis { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin: 10px 0 14px; }
.kpi { border: 1px solid #eee; border-radius: 10px; padding: 10px; background: #fff; }
.kpi-label { font-size: 12px; color: #666; }
.kpi-value { font-size: 18px; font-weight: 700; margin-top: 4px; }

.controls { display: grid; gap: 10px; margin-bottom: 12px; }
.controls label { font-size: 13px; color: #333; }
.controls .row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 6px; }
input, select, button { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 8px; }
button { cursor: pointer; font-weight: 700; background: #111; color: #fff; border: none; }
button:hover { opacity: 0.9; }

#chart { margin-top: 6px; }

#legend { margin-top: 14px; padding-top: 10px; border-top: 1px solid #eee; }
#legend h3 { margin: 0 0 8px 0; font-size: 14px; }

.legend-row { display: flex; align-items: center; gap: 8px; margin: 6px 0; font-size: 13px; color: #333; }
.dot { display: inline-block; border-radius: 50%; background: rgba(0,0,0,0.45); }
.dot.s { width: 8px; height: 8px; }
.dot.m { width: 14px; height: 14px; }
.dot.l { width: 22px; height: 22px; }

.swatch { width: 14px; height: 14px; border-radius: 4px; display: inline-block; border: 1px solid rgba(0,0,0,0.15); }
.swatch.sev3 { background: #7a0019; }
.swatch.sev2b { background: #b03060; }
.swatch.sev2 { background: #ff7f50; }
.swatch.sev1 { background: #1f77b4; }
.swatch.sev0 { background: #999999; }

.note { margin-top: 12px; font-size: 12px; color: #666; line-height: 1.35; }
